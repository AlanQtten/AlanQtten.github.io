# 一个IO项目：构建一个命令行程序

这一章是对目前为止学过的各种知识的一次回顾，同时也是对标准库功能的一次简单探索。我们将构建一个命令行工具，来处理文件和命令行的输入/输出，以实践你已经掌握的一些Rust概念。

> [!NOTE]
> 这一章没有任何的测试，因为这一章需要时时刻刻动手实践。

Rust的速度，安全性，单二进制文件输出和跨平台支持使其成为创建命令行工具的不二之选，对我们的项目来说，我们会开发经典命令行搜索工具`grep`（通过表达式进行全局搜索并输出）。在最简单的情况下，`grep`会使用一个特定的字符串对一个特定的文件进行搜索。要实现这个功能，`grep`需要接收文件路径参数和一个字符串。然后读取一个文件，逐行查找它是否包含这个字符串，最终打印结果。

在这个过程中，我们会展示如何让我们的命令行工具像其他的工具一样，利用起终端的功能。我们会读取环境变量，允许用户控制工具的行为。我们也会将错误信息打印到标准错误输出流（`stderr`）中，而不是标准输出流（`stdout`）中，比如，用户可以通过屏幕上的错误信息重定向到文件中。

Rust的社区成员之一，Andrew Gallant，已经实现了一个功能强大、性能优秀的`grep`，它叫做`ripgrep`。比较来说，我们的版本会更加简单，但这一章会让你理解像`ripgrep`这样的真实世界项目的背景知识。

我们的`grep`项目会包含下面这些你已经学过的概念：

- 代码的组织结构（第7章）
- 使用vector和字符串（第8章）
- 错误处理（第9章）
- 在合适的地方使用trait和生命周期（第10章）
- 书写测试（第11章）

我们也会简短的介绍闭包，迭代器和trait对象，它们分别会在第13章和第17章进行详细介绍。
