<script setup>
import {
  DoesNotCompile,
  NotDesiredBehavior,
  Panics
} from '../../components/ferris';

</script>

# 介绍

欢迎来到*Rust编程语言*，这是一本关于Rust的启蒙书籍。Rust编程语言可以帮助你开发地更快，更稳。高度的人体工程学和低层级的控制往往很难出现在同一个编程语言的设计里：但Rust选择接收这个挑战。通过平衡强大的技术容量和开发体验，Rust给你了控制低层级细节（比如内存占用）的能力，同时无需承担传统模式下实现这些控制所引入的各种麻烦。

## Rust适合谁

Rust对于很多人来说都很合适，原因有很多。我们来着重关注几个重要的群体。

### 开发团队

Rust已被证明是一种高效的工具，适用于团队成员对于系统编程知识掌握程度不同的大型团队。低层级的代码很容易出现各种奇怪的错误，在其他的语言里，需要经验丰富的开发者通过广泛的测试和仔细的代码审查才能解决。而在Rust里，编译器扮演了守门人的角色，将那些形形色色的错误通过编译失败而拒之门外，包括许多并发的问题。通过编译器配合工作，团队可以将时间用在代码逻辑上，而不是无休止地追逐漏洞。

Rust也推出了一系列开箱即用的开发工具，以适应现代的编程节奏：

- Cargo，Rust内置的依赖管理器和构建工具，它让整个Rust生态里的添加、编译和管理依赖变得无比轻松。
- 格式化工具，保证不同开发者之间的风格统一。
- rust分析器支持集成开发环境（IDE）实现代码补全和行内错误。

通过它们和Rust生态系统里的其他工具，开发者可以非常高效地开发系统级代码。

### 学生

Rust对于学生和那些对于学习系统概念有兴趣的人来说也是一个很好的选择。通过使用Rust，很多人学到了诸如操作系统环境等等。社区非常欢迎学生提问，也乐于解答。通过类似本书一样的努力，Rust团队也希望让一些系统概念被更多人了解，特别是那些刚刚学习编程的人。

### 企业

大大小小数百家企业已经在它们的生产任务里使用了Rust，包括命令行工具，网络服务，DevOps工具，嵌入式系统，音频和视频分析以及转码，加密货币，生物信息，搜索引擎，物联网应用，机器学习，甚至包括火狐浏览器的核心部分之一。

### 开源开发者

Rust对于希望参与建设Rust编程语言、社区、开发工具和库的开源开发者十分友好。我们很高兴你可以参与进来。

### 重视速度和稳定性的人群

Rust适合那些追求速度和稳定性兼备的开发者。当我们谈到速度时，不仅指的是Rust代码的运行速度，也包含Rust让你边写代码的速度。而Rust编译器的检查保证了功能添加和重构过程中的稳定性。这跟那些没有这些检查而导致冗余历史功能被遗留的语言形成了鲜明对比，在那些语言里，开发者害怕调整。通过零代价的抽象————高抽象的代码会被编译为像手写一样的最高效的低抽象代码————Rust尽最大努力保证代码的运行速度。

Rust语言希望能支持许多其他的用户；这里提及的只是一些最大的利益相关者。总的来说，Rust最大的愿景就是消除开发者几十年来在安全和生产，速度和优雅之间做出的妥协。给Rust一个机会，看看它是否适合你。

## 本书适合谁

本书假设你已经有过一定的开发经验，但不会具体到任何一门语言。我们努力让各种知识背景的人都可以接收到这些知识。我们也不会花时间来介绍什么是编程以及如何编程。如果你是一个完完全全的新手，那么你可能需要先学习其他的书籍来了解如何编程。

## 如何使用本书

一般来说，本书假设你是从头到尾按照顺序阅读的。后面的章节会在前面章节概念的基础上讲解，而靠前的章节可能不会深入一些特定概念的细节，但会在后面的章节重新介绍。

你会发现本书中存在两种类型的章节：概念章节和项目章节。在概念章节里，你会学习Rust的某一个方面。而在项目章节里，我们会一起构建一个小的程序，帮助消化你学到的内容。第2、12和21章节是项目章节；其他的章节是概念章节。

第一章介绍了如何安装Rust，如何开发一个“Hello, world!”程序，如何使用Cargo，Rust的包管理工具和构建工具。第二章是一个体验章节，让你体验如何使用Rust开发一个项目，手把手带你构建一个猜数游戏。这里会引入一些高级概念，后续的章节会补充其中的额外细节。如果你希望立刻动手试试，第二章就再合适不过了。第三章包括了一些Rust内部和其他语言类似的功能，而第四章会介绍Rust的所有权系统。如果你是一个很细致的学习者，希望能在继续学习前了解每一个细节，那么你可以跳过第二章，直接阅读第三章，然后在你感觉合适的时机回来阅读第二章的内容。

第五章会讨论结构体和方法，第六章会包括枚举，`match`表达式，以及`if let`流程控制结构。你可以使用结构体和枚举在Rust中创建自定义类型。

在第七章，你会学习Rust的模块系统，以及私有规则，帮助组织你的代码，以及应用对外暴露的应用程序接口（API）。第八章会讨论一些标准库提高的常见集合结构，比如vector，字符串和哈希表。第九章会讨论Rust的错误处理哲学和技巧。

第十章会深入讨论泛型、trait和生命周期，它们会给予你的代码适配多种类型的能力。第十一章是全部关于测试的，即便在Rust的安全保障下，通过测试来保证程序的逻辑正确也是十分有必要的。在第十二章，我们会创建我们自己的一个小的命令行工具，其功能类似`grep`的搜索功能。通过这个项目，我们会用上前面章节介绍的许多概念。

第十三章会探索闭包和迭代器：这部分Rust功能来自函数式编程语言。在第十四章，我们会更深入地介绍Cargo，讨论分享库的最佳实践。第十五章会讨论标准库提供的智能指针，以及支撑它们功能的trait。

在第十六章，我们会介绍各种异步编程的模型，以及Rust是如何帮助你的程序在多线程里无畏前进的。在第十七章，我们会基于前面的内容探索Rust的async/await语法、任务、future和流，以及它们所支撑起的轻量并发模型。

第十八章会看看Rust中的方言和你可能更熟悉的面向对象的编程语言进行对比的情况。第十九章会介绍模式和模式匹配，它们对于一些富有表达力的Rust程序来说必不可少。第二十章包括了一系列进阶概念的合集，包括不安全的Rust，宏，以及更多关于生命周期，traits，类型，函数和闭包的内容。

在第21章，我们会完成一个项目，实现一个低层级的多线程网络服务器！

最后是一些关于语言实用信息的附录，它们的格式更多是一些参考资料。**附录A**包含了Rust的关键字，**附录B**包含了Rust的运算符和符号，**附录C**包括了一些标准库提供的可派生trait，**附录D**介绍了一些实用的开发工具，**附录E**解释了Rust的版本。而**附录F**则包含本书的一些翻译版本，**附录G**会介绍Rust是如何被开发出来的，以及什么是“nightly Rust”。

没有任何的阅读方式是绝对的：如果你选择跳过一些章节，大胆尝试！你可能会在遇到一些困惑的点时再回头阅读某些更早的章节。按你自己的节奏来就可以。

学习Rust的一大重点就是明白如何阅读编译器提供的错误信息：它们会指导你的代码方向。处于这个原因，我们会提供大量无法编译的代码示例，并讲解对应的编译错误信息如何帮助你。所以，如果你点击运行了一个随机的例子，它可能是无法编译的！请确保你阅读了周围的文字来了解你看到的例子是不是本来就应该是抛出错误的。Ferris会帮你区分这些代码是否本来就应该报错：

<table>
  <thead>
    <tr>
      <th style="min-width: 120px">
        Ferris
      </th>
      <th style="width: 99%">
        含义
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <DoesNotCompile />
      </td>
      <td>
        <span>这段代码无法编译！</span>
      </td>
    </tr>
    <tr>
      <td>
        <NotDesiredBehavior />
      </td>
      <td>
        <span>这段代码会崩溃！</span>
      </td>
    </tr>
    <tr>
      <td>
        <Panics />
      </td>
      <td>
        <span>这段代码的效果和预期不符。</span>
      </td>
    </tr>
  </tbody>
</table>

大部分情况下，我们都会引导你从无法编译的代码一步步到达正确编译的版本。
